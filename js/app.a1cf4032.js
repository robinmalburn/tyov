(function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},i=[];function a(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a4210":"670b007b","chunk-2d0d3ab3":"1ae919c0","chunk-2d0da355":"4795127a","chunk-2d0e5f80":"b9bca71d","chunk-2d0e958e":"88f298f4","chunk-2d224ce5":"3a070e00","chunk-2d231224":"65aa320d"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=a(e);var l=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}o[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/tyov/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"49dc":function(e,t,n){"use strict";n("99af");var r=Date.now();t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return++r,"".concat(e,"-").concat(r,"-").concat(Date.now())}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,o,i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-6 flex flex-col min-h-screen",attrs:{id:"app"}},[n("HeadingComponent",{staticClass:"text-center",attrs:{level:"1"}},[e._v("TYOV ~ Companion")]),n("NotificationPane"),n("div",{staticClass:"flex flex-col md:flex-row flex-grow"},[n("div",{staticClass:"flex-1"},[n("SlideDownPanelComponent",{staticClass:"flex-1",scopedSlots:e._u([{key:"closed-heading",fn:function(){return[e._v(" Open Actions ")]},proxy:!0}])},[n("ActionsPane"),n("PromptsPane")],1),n("div",{staticClass:"flex-1"},[n("MemoriesPane")],1)],1),n("div",{staticClass:"flex-1"},[n("MarksPane"),n("SkillsPane"),n("ResourcesPane"),n("CharactersPane")],1)]),n("div",{staticClass:"border-t mt-4 text-right"},[n("ul",[n("li",[n("a",{staticClass:"hover:text-gray-400",attrs:{href:"https://www.version1.net/"},domProps:{innerHTML:e._s(e.copyright)}})]),n("li",[n("a",{staticClass:"hover:text-gray-400",attrs:{href:"https://thousandyearoldvampire.com/"},domProps:{innerHTML:e._s("Thousand Year Old Vampire Copyright &copy; Tim Hutchings")}})])])])],1)},s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",{attrs:{id:"actions"}},[n("HeadingComponent",{attrs:{level:"2"}},[e._v("Actions")]),n("div",{staticClass:"m-2 text-center"},[n("div",{staticClass:"grid grid-cols-2 grid-rows-2 gap2"},[n("span",{staticClass:"text-gray-300 dark:text-gray-500"},[e._v("Last roll:")]),n("span",[e._v("Current roll: ")]),n("span",{staticClass:"text-gray-300 dark:text-gray-500"},[e._v(e._s(e.lastRoll))]),n("span",[e._v(e._s(e.currentRoll))])]),n("ButtonComponent",{staticClass:"w-full my-2",attrs:{type:"primary"},on:{click:e.roll}},[e._v(" Roll ")])],1),n("SaveMenuComponent"),n("LoadMenuComponent")],1)},l=[],d=n("5530"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-4 p-4 border rounded border-gray-100 shadow-md hover:shadow-xl transition-all"},[e._t("default")],2)},m=[],p={name:"CardComponent"},h=p,g=n("2877"),v=Object(g["a"])(h,u,m,!1,null,null,null),y=v.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"py-1 px-4 rounded transition-colors focus:outline-none focus:ring-2 ring-0",class:e.typeClasses,on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},w=[],C=(n("caad"),n("2532"),n("d3b7"),{default:{"bg-gray-200":!0,"hover:bg-gray-400":!0,"ring-gray-100":!0},primary:{"bg-red-700":!0,"hover:bg-red-900":!0,"text-white":!0,"ring-red-600":!0},secondary:{"bg-indigo-400":!0,"hover:bg-indigo-600":!0,"text-white":!0,"ring-indigo-300":!0}}),b={name:"ButtonComponent",props:{type:{type:String,default:"default",valiator:function(e){return C.keys().includes(e)}}},computed:{typeClasses:function(){return C[this.type]}}},k=b,x=Object(g["a"])(k,f,w,!1,null,null,null),_=x.exports,O=[{"text-3xl":!0},{"text-2xl":!0},{"text-xl":!0},{"text-base":!0},{"text-sm":!0},{"text-sm":!0}],M={name:"HeadingComponent",functional:!0,props:{level:{type:String,default:"1",validator:function(e){return["1","2","3","4","5","6"].includes(e)}}},render:function(e,t){var n=t.data.class||{};return t.data.staticClass&&(n[t.data.staticClass]=!0),e("h".concat(t.props.level),Object(d["a"])(Object(d["a"])({},t.data),{},{class:Object(d["a"])(Object(d["a"])({"font-semibold":!0,"leading-loose":!0,"tracking-widest":!0,"text-indigo-800":!0},n),O[t.props.level-1])}),t.children)}},A=M,R=Object(g["a"])(A,r,o,!1,null,null,null),j=R.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SlideDownPanelComponent",{scopedSlots:e._u([{key:"closed-heading",fn:function(){return[e._v(" Save ")]},proxy:!0}]),model:{value:e.saving,callback:function(t){e.saving=t},expression:"saving"}},[n("div",{staticClass:"grid grid-rows gap-1 my-2"},[n("a",{ref:"download",staticClass:"hidden",attrs:{download:"save-game",target:"_blank",href:"about:blank"}}),n("ButtonComponent",{staticClass:"w-full",on:{click:e.toFile}},[e._v(" To File ")]),e.supportsLocalStorage?n("ButtonComponent",{staticClass:"w-full",on:{click:e.toLocalStorage}},[e._v(" To Local Storage ")]):e._e()],1)])},P=[],S=(n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[n("ButtonComponent",{staticClass:"w-full",attrs:{type:e.type},on:{click:e.toggle}},[e.shouldShow?e._t("open-heading",(function(){return[e._v(" Close ")]})):e._t("closed-heading",(function(){return[e._v(" Show ")]}))],2),e.shouldShow?e._t("default"):e._e()],2)}),D=[],N={name:"SlideDownPanelComponent",model:{prop:"open",event:"change"},props:{open:{type:Boolean,default:!1}},data:function(){return{isOpen:this.open}},components:{ButtonComponent:_},computed:{shouldShow:function(){return this.isOpen},type:function(){return this.shouldShow?"secondary":"default"},classes:function(){return{"my-2":!0,"transition-all":!0,"p-4":this.shouldShow,border:this.shouldShow,rounded:this.shouldShow,"border-indigo-200":this.shouldShow,"shadow-md":this.shouldShow,"hover:shadow-xl":this.shouldShow}}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)}},watch:{open:function(e){this.isOpen=e}}},$=N,T=Object(g["a"])($,S,D,!1,null,null,null),F=T.exports,U=n("2909"),H=n("1da1"),L=(n("96cf"),n("159b"),n("e9c4"),n("84c3"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("0eb6"),n("b7ef"),n("8bd4"),n("5cc6"),n("d4ec")),B=n("bee2"),Y=n("ade3"),I=(n("4e82"),n("a4d3"),n("e01a"),n("a434"),function(){function e(){Object(L["a"])(this,e),Object(Y["a"])(this,"migrations",[])}return Object(B["a"])(e,[{key:"gatherMigrations",value:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],r=this.migrations.length,o=0;case 3:if(!(o<r)){e.next=12;break}return i=this.migrations[o],e.next=7,i(t);case 7:a=e.sent,a&&n.push(a.default);case 9:o++,e.next=3;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"migrate",value:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.__SIGNATURE__!==z){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,this.gatherMigrations(t.__SIGNATURE__);case 4:return n=e.sent,n.sort((function(e,t){return e.requiredSignature||t.requiredSignature?!e.requiredSignature&&t.requiredSignature||e.requiredSignature&&t.requiredSignature&&e.requiredSignature>t.requiredSignature?1:e.requiredSignature&&!t.requiredSignature||e.requiredSignature&&t.requiredSignature&&e.requiredSignature<t.requiredSignature?-1:0:0})),n.forEach((function(e){e.requiredSignature?(console.info("Running Migration: ".concat(e.description)),t=e.migrate(t)):console.warn("Skipping migration with missing signature.  Description: ".concat(e.description))})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.migrations.push(t)}))}},{key:"unregister",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){var n=e.migrations.indexOf(t);e.migrations.splice(n,1)}))}}]),e}()),q=new I;q.register(function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t<1&&n.e("chunk-2d0a4210").then(n.bind(null,"04b8")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t<1&&n.e("chunk-2d0da355").then(n.bind(null,"6b2e")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t<1&&n.e("chunk-2d0e958e").then(n.bind(null,"8cc0")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t<1&&n.e("chunk-2d224ce5").then(n.bind(null,"e268")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t<1&&n.e("chunk-2d0d3ab3").then(n.bind(null,"5e6c")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t<1&&n.e("chunk-2d231224").then(n.bind(null,"eef4")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t<2&&n.e("chunk-2d0e5f80").then(n.bind(null,"976b")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var J=q,z=2,G=function(e){return{d6:e.state.actions.d6,d10:e.state.actions.d10,lastRoll:e.state.actions.lastRoll,prompts:e.state.actions.prompts,currentPromptIdx:e.state.actions.currentPromptIdx,characters:e.state.characters.characters,marks:e.state.marks.marks,memories:e.state.memories.memories,events:e.state.memories.events,resources:e.state.resources.resources,diaries:e.state.resources.diaries,skills:e.state.skills.skills,__SIGNATURE__:z}},Q=function(e){var t,n={actions:{d6:NaN,d10:NaN,lastRoll:"?",currentPromptIdx:0,prompts:[]},characters:{characters:[]},marks:{marks:[]},memories:{memories:[],events:[]},skills:{skills:[]},resources:{resources:[],diaries:[]}};return e?Object(d["a"])({},null!==(t=n[e])&&void 0!==t?t:{}):Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},n.actions),n.characters),n.marks),n.memories),n.resources),n.skills)},V=function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(d["a"])(Object(d["a"])({},Q()),n),e.next=3,J.migrate(n);case 3:n=e.sent,t.commit("actions/saveRoll",null!==(r=n.lastRoll)&&void 0!==r?r:"?"),t.commit("actions/setD6",null!==(o=n.d6)&&void 0!==o?o:NaN),t.commit("actions/setD6",null!==(i=n.d6)&&void 0!==i?i:NaN),t.commit("actions/setCurrentPromptIdx",null!==(a=n.currentPromptIdx)&&void 0!==a?a:0),s=Array.isArray(n.prompts)?n.prompts:[],s.forEach((function(e){e.page=parseInt(e.page,10),e.count=parseInt(e.count,10)})),t.commit("actions/setPrompts",s),t.commit("characters/set",Array.isArray(n.characters)?n.characters:[]),t.commit("marks/set",Array.isArray(n.marks)?n.marks:[]),t.commit("memories/setMemories",Array.isArray(n.memories)?n.memories:[]),t.commit("memories/setEvents",Array.isArray(n.events)?n.events:[]),t.commit("resources/setResources",Array.isArray(n.resources)?n.resources:[]),t.commit("resources/setDiaries",Array.isArray(n.diaries)?n.diaries:[]),t.commit("skills/set",Array.isArray(n.skills)?n.skills:[]);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(e){var t;try{t=JSON.stringify(e)}catch(i){throw"Unable to serialize data structure."}for(var n=t.length,r=new Uint16Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return btoa(String.fromCharCode.apply(String,Object(U["a"])(new Uint8Array(r.buffer))))},W=function(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);try{return JSON.parse(String.fromCharCode.apply(String,Object(U["a"])(new Uint16Array(r.buffer))))}catch(i){throw"Unable to parse deserialised data."}},X=(n("b0c0"),function(){var e=window.localStorage;try{var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&e&&0!==e.length}}),Z=function(e,t){"string"!==typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},ee=function(e){var t=window.localStorage.getItem(e);if(null===t)return null;try{return JSON.parse(t)}catch(n){return t}},te={set:Z,get:ee,supported:X},ne={name:"SaveMenuComponent",data:function(){return{saving:!1}},components:{SlideDownPanelComponent:F,ButtonComponent:_},computed:{supportsLocalStorage:X},methods:{toFile:function(){var e=K(G(this.$store));this.$refs.download.href=URL.createObjectURL(new Blob([e],{type:"text/plain"})),this.$refs.download.click(),this.saving=!1},toLocalStorage:function(){var e=K(G(this.$store));te.set("save-game",e),this.saving=!1}}},re=ne,oe=Object(g["a"])(re,E,P,!1,null,null,null),ie=oe.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SlideDownPanelComponent",{scopedSlots:e._u([{key:"closed-heading",fn:function(){return[e._v(" Load ")]},proxy:!0}]),model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("div",{staticClass:"grid grid-rows gap-1 my-2"},[n("input",{ref:"upload",staticClass:"hidden",attrs:{type:"file"},on:{change:e.load}}),n("ButtonComponent",{staticClass:"w-full",on:{click:function(t){return e.$refs.upload.click()}}},[e._v(" From File ")]),e.supportsLocalStorage?n("ButtonComponent",{staticClass:"w-full",on:{click:e.fromLocalStorage}},[e._v(" From Local Storage ")]):e._e()],1)])},se=[],ce=n("2f62"),le={name:"SaveMenuComponent",data:function(){return{loading:!1}},components:{ButtonComponent:_,SlideDownPanelComponent:F},computed:{supportsLocalStorage:X},methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("notifications",["hide"])),Object(ce["b"])("notifications",["showNotification"])),{},{load:function(){var e=this;if(1===this.$refs.upload.files.length){this.hide();var t=this.$refs.upload.files[0],n=new FileReader;n.readAsText(t),n.onload=function(){try{var t=W(n.result);V(e.$store,t)}catch(r){e.showNotification({message:"Unable to decode save state.",type:"danger"})}e.loading=!1},n.onerror=function(){e.showNotification({message:"Unable to read file.",type:"danger"})}}else this.showNotification({message:"Unable to load file.  You must select one file to load.",type:"warning"})},fromLocalStorage:function(){this.hide();try{var e=W(te.get("save-game"));V(this.$store,e)}catch(t){this.showNotification({message:"Unable to decode save state.",type:"danger"})}this.loading=!1}})},de=le,ue=Object(g["a"])(de,ae,se,!1,null,null,null),me=ue.exports,pe={name:"ActionsPane",components:{ButtonComponent:_,CardComponent:y,HeadingComponent:j,SaveMenuComponent:ie,LoadMenuComponent:me},computed:Object(d["a"])(Object(d["a"])({},Object(ce["c"])("actions",["die","currentRoll"])),Object(ce["e"])("actions",["d6","d10","lastRoll"])),methods:Object(d["a"])({},Object(ce["b"])("actions",["roll"]))},he=pe,ge=Object(g["a"])(he,c,l,!1,null,null,null),ve=ge.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",{attrs:{id:"characters"}},[n("HeadingComponent",{attrs:{level:"2"}},[e._v("Characters")]),n("FormToggleComponent",{attrs:{"show-controls":e.showAddingControls},on:{save:e.validatedAdd,toggle:e.toggleAddingControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Add a new Character? ")]},proxy:!0},{key:"form",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCharacter.name,expression:"newCharacter.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.newCharacter.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedAdd.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newCharacter,"name",t.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCharacter.bio,expression:"newCharacter.bio"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200 resize-none",attrs:{placeholder:"Bio"},domProps:{value:e.newCharacter.bio},on:{input:function(t){t.target.composing||e.$set(e.newCharacter,"bio",t.target.value)}}}),e._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCharacter.immortal,expression:"newCharacter.immortal"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.newCharacter.immortal)?e._i(e.newCharacter.immortal,null)>-1:e.newCharacter.immortal},on:{change:function(t){var n=e.newCharacter.immortal,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newCharacter,"immortal",n.concat([i])):a>-1&&e.$set(e.newCharacter,"immortal",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newCharacter,"immortal",o)}}}),e._v(" Immortal? ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCharacter.dead,expression:"newCharacter.dead"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.newCharacter.dead)?e._i(e.newCharacter.dead,null)>-1:e.newCharacter.dead},on:{change:function(t){var n=e.newCharacter.dead,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newCharacter,"dead",n.concat([i])):a>-1&&e.$set(e.newCharacter,"dead",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newCharacter,"dead",o)}}}),e._v(" Dead? ")])]},proxy:!0}])}),n("FormComponent",{directives:[{name:"show",rawName:"v-show",value:e.showEditingControls,expression:"showEditingControls"}],ref:"editForm",staticClass:"my-2",attrs:{buttons:[{type:"default",event:"save",label:"Save"},{type:"default",event:"cancel",label:"Cancel"},{type:"default",event:"remove",label:"Remove"}]},on:{save:e.validatedUpdate,cancel:e.closeEditingControls,remove:e.validatedRemove}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editCharacter.name,expression:"editCharacter.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.editCharacter.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.editCharacter,"name",t.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editCharacter.bio,expression:"editCharacter.bio"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200 resize-none",attrs:{placeholder:"Bio"},domProps:{value:e.editCharacter.bio},on:{input:function(t){t.target.composing||e.$set(e.editCharacter,"bio",t.target.value)}}}),e._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editCharacter.immortal,expression:"editCharacter.immortal"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.editCharacter.immortal)?e._i(e.editCharacter.immortal,null)>-1:e.editCharacter.immortal},on:{change:function(t){var n=e.editCharacter.immortal,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editCharacter,"immortal",n.concat([i])):a>-1&&e.$set(e.editCharacter,"immortal",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editCharacter,"immortal",o)}}}),e._v(" Immortal? ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editCharacter.dead,expression:"editCharacter.dead"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.editCharacter.dead)?e._i(e.editCharacter.dead,null)>-1:e.editCharacter.dead},on:{change:function(t){var n=e.editCharacter.dead,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editCharacter,"dead",n.concat([i])):a>-1&&e.$set(e.editCharacter,"dead",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editCharacter,"dead",o)}}}),e._v(" Dead? ")])]),n("transition-group",{staticClass:"my-2",attrs:{tag:"ul","enter-active-class":"transition-all duration-100 ease-out","leave-active-class":"transition-all duration-100 ease-in","enter-class":"opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-100","leave-to-class":"opacity-0","move-class":"transition-transform duration-500 ease-in-out"}},e._l(e.characters,(function(t){return n("li",{key:"character-"+t.id},[n("CardComponent",{class:{"bg-red-50":t.immortal}},[n("div",{staticClass:"flex border-b mb-2"},[n("HeadingComponent",{staticClass:"select-none flex-1",attrs:{level:"6"}},[n("div",{class:{"line-through":t.dead,"cursor-pointer":!0},on:{click:function(n){return e.validatedToggle(t)}}},[e._v(" "+e._s(t.name)+" "),t.immortal?n("span",[e._v("(Immortal)")]):e._e()])]),n("div",{staticClass:"flex-initial text-right"},[n("span",{staticClass:"cursor-pointer mx-2 hover:text-gray-400",on:{click:function(n){return e.startEdit(t)}}},[e._v(" Edit ")])])],1),n("div",[e._v(e._s(t.bio))])])],1)})),0)],1)},fe=[],we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default"),n("div",{staticClass:"my-1 flex flex-col md:flex-row"},e._l(e.buttons,(function(t){return n("ButtonComponent",{key:t.label+"-"+t.type,staticClass:"flex-1 my-2 md:my-0 md:mx-2",attrs:{type:t.type},on:{click:function(n){return e.$emit(t.event)}}},[e._v(" "+e._s(t.label)+" ")])})),1)],2)},Ce=[],be=n("53ca"),ke=(n("b64b"),{name:"FormComponent",props:{buttons:{type:Array,default:function(){return[{type:"default",event:"save",label:"Save"},{type:"default",event:"cancel",label:"Cancel"}]},validator:function(e){return e.every((function(e){if("object"!==Object(be["a"])(e))return!1;var t=Object.keys(e);return t.includes("type")&&t.includes("event")&&t.includes("label")}))}}},components:{ButtonComponent:_}}),xe=ke,_e=Object(g["a"])(xe,we,Ce,!1,null,null,null),Oe=_e.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showControls?n("div",[n("FormComponent",{on:{save:function(t){return e.$emit("save")},cancel:function(t){return e.$emit("toggle",e.showControls)}}},[e._t("form")],2)],1):n("ButtonComponent",{staticClass:"w-full",attrs:{type:e.type},on:{click:function(t){return e.$emit("toggle",e.showControls)}}},[e._t("button")],2)],1)},Ae=[],Re={name:"FormToggleComponent",props:{showControls:{type:Boolean,default:!1},type:{type:String,default:"default",validator:function(e){return["default","primary","secondary"].includes(e)}}},components:{ButtonComponent:_,FormComponent:Oe}},je=Re,Ee=Object(g["a"])(je,Me,Ae,!1,null,null,null),Pe=Ee.exports,Se=(n("a630"),n("49dc")),De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uuid",n=$e(e);return e.id||(n.id=Object(Se["a"])(t)),n},Ne=function(e){return null===e?e:Array.isArray(e)?Array.from(e):"object"===Object(be["a"])(e)?Object(d["a"])({},e):e},$e=function(e){if(null===e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return console.err("Error with deep data copy, falling back to shallow copy.  Error: ".concat(t)),Ne(e)}},Te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r={entity:null,idx:null};return e.some((function(e,o){if(e[n]===t)return r={entity:e,idx:o},!0})),r},Fe="character",Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({name:"",dead:!1,immortal:!1,bio:""},De(e,Fe))},He={name:"CharactersPane",data:function(){return{showAddingControls:!1,showEditingControls:!1,editCharacter:Ue(),newCharacter:Ue()}},components:{CardComponent:y,FormComponent:Oe,FormToggleComponent:Pe,HeadingComponent:j},computed:Object(d["a"])({},Object(ce["c"])("characters",["characters"])),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("notifications",{hideNotification:"hide"})),Object(ce["b"])("notifications",["showNotification"])),Object(ce["d"])("characters",["add","update","remove","toggle"])),{},{validatedToggle:function(e){this.hideNotification(),this.editCharacter.id!==e.id?this.toggle(e):this.showNotification({message:"You cannot change this character whilst it is being edited.",type:"warning"})},validatedAdd:function(){""!==this.newCharacter.name&&""!==this.newCharacter.bio?(this.add(this.newCharacter),this.toggleAddingControls()):this.showNotification({message:"You must provide a name & bio.",type:"warning"})},validatedRemove:function(){var e,t=this;this.characters.some((function(n){if(n.id===t.editCharacter.id)return e=n,!0})),this.remove(e),this.closeEditingControls()},validatedUpdate:function(){""!==this.editCharacter.name&&""!==this.editCharacter.bio?(this.update(this.editCharacter),this.closeEditingControls()):this.showNotification({message:"You must provide a name & bio.",type:"warning"})},startEdit:function(e){var t=this;this.editCharacter=Ue(e),this.showEditingControls=!0,this.$nextTick((function(){var e=t.$refs.editForm.$el.getBoundingClientRect();window.scrollTo({top:e.y+window.scrollY,behavior:"smooth"})}))},toggleAddingControls:function(){this.hideNotification(),this.showAddingControls=!this.showAddingControls,this.newCharacter=Ue()},closeEditingControls:function(){this.hideNotification(),this.showEditingControls=!1,this.editCharacter=Ue()}})},Le=He,Be=Object(g["a"])(Le,ye,fe,!1,null,null,null),Ye=Be.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",{attrs:{id:"prompts"}},[n("HeadingComponent",{attrs:{level:"2"}},[e._v("Prompts")]),n("FormToggleComponent",{attrs:{showControls:e.showControls},on:{save:e.validatedAddPrompt,toggle:e.toggleControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Manually add Prompt? ")]},proxy:!0},{key:"form",fn:function(){return[n("div",{staticClass:"grid grid-rows md:grid-cols-2 gap-2"},[n("div",{staticClass:"grid grid grid-rows gap-2"},[n("label",{attrs:{for:"new-propt-number"}},[e._v(" Prompt Number: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPrompt.page,expression:"newPrompt.page"}],staticClass:"w-full shadow border rounded py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{id:"new-prompt-number",type:"number",step:"1",min:e.firstUnusedPrompt},domProps:{value:e.newPrompt.page},on:{input:function(t){t.target.composing||e.$set(e.newPrompt,"page",t.target.value)}}})]),n("div",{staticClass:"grid grid grid-rows gap-2"},[n("label",{attrs:{for:"new-prompt-count"}},[e._v(" Times visited: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newPrompt.count,expression:"newPrompt.count"}],staticClass:"w-full shadow border rounded py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{id:"new-prompt-count"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newPrompt,"count",t.target.multiple?n:n[0])}}},e._l([1,2,3],(function(t){return n("option",{key:"visits-"+t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)])]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.makeCurrent,expression:"makeCurrent"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.makeCurrent)?e._i(e.makeCurrent,null)>-1:e.makeCurrent},on:{change:function(t){var n=e.makeCurrent,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&(e.makeCurrent=n.concat([i])):a>-1&&(e.makeCurrent=n.slice(0,a).concat(n.slice(a+1)))}else e.makeCurrent=o}}}),e._v(" Current? ")])]},proxy:!0}])}),e.currentPrompt.page?n("div",{staticClass:"divide-y divide-gray-200 divide-dashed"},[n("div",{staticClass:"text-red-700 my-2"},[n("strong",[e._v("Current:")]),e._v(" "+e._s(e.currentPrompt.page)+": "),n("span",{domProps:{innerHTML:e._s(e.tally(e.currentPrompt.count))}})]),n("ol",{staticClass:"my-2 max-h-40 overflow-auto"},e._l(e.prompts,(function(t){return n("li",{key:"prompt-key-"+t.id,staticClass:"select-none"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-initial w-6 text-center"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.page!==e.currentPrompt.page,expression:"prompt.page !== currentPrompt.page"}],staticClass:"cursor-pointer select-none hover:text-gray-400",attrs:{title:"Set as current prompt"},domProps:{innerHTML:e._s("&rarr;")},on:{click:function(n){return e.makePromptCurrent(t)}}})]),n("div",{staticClass:"flex-initial w-6 text-center"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.page!==e.currentPrompt.page,expression:"prompt.page !== currentPrompt.page"}],staticClass:"cursor-pointer select-none hover:text-gray-400",attrs:{title:"Remove prompt"},domProps:{innerHTML:e._s("&times;")},on:{click:function(n){return e.removePrompt(t)}}})]),n("div",{staticClass:"flex-initial w-6 text-center"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.count<3,expression:"prompt.count < 3"}],staticClass:"cursor-pointer select-none hover:text-gray-400",attrs:{title:"Increment visits"},domProps:{innerHTML:e._s("&plus;")},on:{click:function(n){return e.incrementPrompt(t)}}})]),n("div",{staticClass:"flex-initial w-6 text-center"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.count>1,expression:"prompt.count > 1"}],staticClass:"cursor-pointer select-none hover:text-gray-400",attrs:{title:"Decrement visits"},domProps:{innerHTML:e._s("&minus;")},on:{click:function(n){return e.decrementPrompt(t)}}})]),n("div",{staticClass:"flex-initial"},[n("span",{staticClass:"select-none",class:{"text-red-700":t.page===e.currentPrompt.page}},[n("span",{staticClass:"px-2"},[e._v(e._s(t.page)+":")]),n("span",{domProps:{innerHTML:e._s(e.tally(t.count))}})])])])])})),0)]):e._e()],1)},qe=[],Je="prompt",ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({page:1,count:0},De(e,Je))},Ge={name:"PromptsPane",data:function(){return{showControls:!1,newPrompt:ze({page:this.firstUnusedPrompt,count:1}),makeCurrent:!this.currentPrompt||!this.currentPrompt.page}},components:{CardComponent:y,FormToggleComponent:Pe,HeadingComponent:j},computed:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["e"])("actions",["currentPromptPage"])),Object(ce["c"])("actions",["prompts","currentPrompt"])),{},{tally:function(){return function(e){var t="",n="&omicron;";e>=3&&(n="&oslash;");for(var r=0;r<e;r++)t+=n;return t}},firstUnusedPrompt:function(){var e=1;if(!this.prompts.length)return e;var t=Object(U["a"])(this.prompts);return t.sort((function(e,t){return e.page>t.page?1:-1})),t.some((function(t){var n=t.page;return n>e||(e=n+1,!1)})),e}}),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("actions",["addPrompt","incrementPrompt","decrementPrompt"])),Object(ce["b"])("actions",["makePromptCurrent","removePrompt"])),Object(ce["d"])("notifications",{hideNotification:"hide"})),Object(ce["b"])("notifications",["showNotification"])),{},{validatedAddPrompt:function(){var e=this,t=this.prompts.some((function(t){return t.page===parseInt(e.newPrompt.page,10)}));if(t)this.showNotification({message:"This prompt already exists, you cannot re-add it",type:"warning"});else{var n=Object(d["a"])({},this.newPrompt);n.page=parseInt(n.page,10),this.addPrompt(n),this.makeCurrent&&this.makePromptCurrent(n),this.toggleControls()}},toggleControls:function(){this.hideNotification(),this.showControls=!this.showControls,this.newPrompt=ze({page:this.firstUnusedPrompt,count:1}),this.makeCurrent=!this.currentPrompt||!this.currentPrompt.page}})},Qe=Ge,Ve=Object(g["a"])(Qe,Ie,qe,!1,null,null,null),Ke=Ve.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",{attrs:{id:"marks"}},[n("HeadingComponent",{attrs:{level:"2"}},[e._v("Marks")]),n("FormToggleComponent",{attrs:{"show-controls":e.showAddingControls},on:{save:e.validatedAddMark,toggle:e.toggleAddingControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Add a new Mark? ")]},proxy:!0},{key:"form",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMark.description,expression:"newMark.description"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newMark.description},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedAddMark.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newMark,"description",t.target.value)}}})]},proxy:!0}])}),n("FormComponent",{directives:[{name:"show",rawName:"v-show",value:e.showEditingControls,expression:"showEditingControls"}],staticClass:"my-2",attrs:{buttons:[{type:"default",event:"save",label:"Save"},{type:"default",event:"cancel",label:"Cancel"},{type:"default",event:"remove",label:"Remove"}]},on:{save:e.validatedUpdateMark,cancel:e.closeEditingControls,remove:e.validatedRemoveMark}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editMark.description,expression:"editMark.description"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.editMark.description},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedUpdateMark.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.editMark,"description",t.target.value)}}})]),n("transition-group",{staticClass:"my-2",attrs:{tag:"ul","enter-active-class":"transition-all duration-100 ease-out","leave-active-class":"transition-all duration-100 ease-in","enter-class":"opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-100","leave-to-class":"opacity-0","move-class":"transition-transform duration-500 ease-in-out"}},e._l(e.marks,(function(t){return n("li",{key:"mark-"+t.id,staticClass:"my-2"},[n("div",{staticClass:"grid grid-cols-6"},[n("span",{staticClass:"col-span-5"},[e._v(e._s(t.description))]),n("span",{staticClass:"cursor-pointer select-none flex-initial text-right mx-2 hover:text-gray-400",on:{click:function(n){return e.startEdit(t)}}},[e._v(" Edit ")])])])})),0)],1)},Xe=[],Ze="mark",et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({description:""},De(e,Ze))},tt={name:"MarksPane",data:function(){return{newMark:et(),editMark:et(),showAddingControls:!1,showEditingControls:!1}},components:{CardComponent:y,FormComponent:Oe,FormToggleComponent:Pe,HeadingComponent:j},computed:Object(d["a"])({},Object(ce["e"])("marks",["marks"])),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("notifications",{hideNotification:"hide"})),Object(ce["b"])("notifications",["showNotification"])),Object(ce["d"])("marks",["add","update","remove"])),{},{validatedAddMark:function(){""!==this.newMark.description?(this.add(this.newMark),this.toggleAddingControls()):this.showNotification({message:"You must provide a description",type:"warning"})},validatedRemoveMark:function(){var e,t=this;this.marks.some((function(n){if(n.id===t.editMark.id)return e=n,!0})),this.remove(e),this.closeEditingControls()},validatedUpdateMark:function(){""!==this.editMark.description?(this.update(this.editMark),this.closeEditingControls()):this.showNotification({message:"You must provide a description",type:"warning"})},startEdit:function(e){this.editMark=et(e),this.showEditingControls=!0},closeEditingControls:function(){this.hideNotification(),this.showEditingControls=!1,this.editMark=et()},toggleAddingControls:function(){this.hideNotification(),this.showAddingControls=!this.showAddingControls,this.newMark=et()}})},nt=tt,rt=Object(g["a"])(nt,We,Xe,!1,null,null,null),ot=rt.exports,it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",{attrs:{id:"memories"}},[n("HeadingComponent",{attrs:{level:"2"}},[e._v("Memories")]),e.canAddMemories?n("FormToggleComponent",{attrs:{type:"primary","show-controls":e.showAddingControls},on:{save:e.validatedAddMemory,toggle:e.toggleAddingControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Add a new Memory? ")]},proxy:!0},{key:"form",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMemory.description,expression:"newMemory.description"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newMemory.description},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedAddMemory.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newMemory,"description",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMemory.forgotten,expression:"newMemory.forgotten"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.newMemory.forgotten)?e._i(e.newMemory.forgotten,null)>-1:e.newMemory.forgotten},on:{change:function(t){var n=e.newMemory.forgotten,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newMemory,"forgotten",n.concat([i])):a>-1&&e.$set(e.newMemory,"forgotten",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newMemory,"forgotten",o)}}}),e._v(" Forgotten? ")]),e.hasDiary&&!e.isDiaryFull?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMemory.diary,expression:"newMemory.diary"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":e.diary.id,"false-value":""},domProps:{checked:Array.isArray(e.newMemory.diary)?e._i(e.newMemory.diary,null)>-1:e._q(e.newMemory.diary,e.diary.id)},on:{change:function(t){var n=e.newMemory.diary,r=t.target,o=r.checked?e.diary.id:"";if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newMemory,"diary",n.concat([i])):a>-1&&e.$set(e.newMemory,"diary",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newMemory,"diary",o)}}}),e._v(" Diarised? ")]):e._e()]},proxy:!0}],null,!1,2362237444)}):n("div",[e._v(" You must choose to forget a memory to add more. ")]),n("FormComponent",{directives:[{name:"show",rawName:"v-show",value:e.showEditingControls,expression:"showEditingControls"}],ref:"editForm",staticClass:"my-2",attrs:{buttons:[{type:"default",event:"save",label:"Save"},{type:"default",event:"cancel",label:"Cancel"},{type:"default",event:"remove",label:"Remove"}]},on:{save:e.validatedUpdateMemory,cancel:e.closeEditingControls,remove:e.validatedRemoveMemory}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editMemory.description,expression:"editMemory.description"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.editMemory.description},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedUpdateMemory.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.editMemory,"description",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editMemory.forgotten,expression:"editMemory.forgotten"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.editMemory.forgotten)?e._i(e.editMemory.forgotten,null)>-1:e.editMemory.forgotten},on:{change:function(t){var n=e.editMemory.forgotten,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editMemory,"forgotten",n.concat([i])):a>-1&&e.$set(e.editMemory,"forgotten",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editMemory,"forgotten",o)}}}),e._v(" Forgotten? ")]),e.hasDiary&&!e.isDiaryFull||""!==e.editMemory.diary?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editMemory.diary,expression:"editMemory.diary"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":e.diary.id,"false-value":""},domProps:{checked:Array.isArray(e.editMemory.diary)?e._i(e.editMemory.diary,null)>-1:e._q(e.editMemory.diary,e.diary.id)},on:{change:function(t){var n=e.editMemory.diary,r=t.target,o=r.checked?e.diary.id:"";if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editMemory,"diary",n.concat([i])):a>-1&&e.$set(e.editMemory,"diary",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editMemory,"diary",o)}}}),e._v(" Diarised? ")]):e._e(),e.hasEvents(e.editMemory)?n("div",{staticClass:"mt-2"},[n("HeadingComponent",{attrs:{level:"6"}},[e._v(" Events ")]),e._l(e.editEvents,(function(t){return n("div",{key:"edit-event-"+t.id},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"event.description"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.description},on:{input:function(n){n.target.composing||e.$set(t,"description",n.target.value)}}})])}))],2):e._e()]),n("transition-group",{attrs:{"enter-active-class":"transition-all duration-400 ease-out","leave-active-class":"transition-all duration-400 ease-in","enter-class":"opacity-0 scale-40","enter-to-class":"opacity-100 scale-100","leave-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-40"}},e._l(e.activeMemories,(function(t){return n("MemoryComponent",{key:"memory-"+t.id,attrs:{memory:t,"can-add-memories":e.canAddMemories,"can-add-events":t.id!==e.editMemory.id&&e.events(t).length<3,"can-diarise":e.hasDiary&&t.id!==e.editMemory.id,"can-toggle":t.id!==e.editMemory.id},on:{"add-event":e.addEvent,"remove-event":e.validatedRemoveEvent,"edit-memory":e.startEdit,"toggle-memory":e.toggleMemory,"diarise-memory":e.diariseMemory,"undiarise-memory":e.undiariseMemory}})})),1),e.hasDiary?n("SlideDownPanelComponent",{scopedSlots:e._u([{key:"closed-heading",fn:function(){return[e._v(" Diary ")]},proxy:!0}],null,!1,257998573)},[e.diaryMemories.length>0?n("div",[n("transition-group",{attrs:{"enter-active-class":"transition-all duration-400 ease-out","leave-active-class":"transition-all duration-400 ease-in","enter-class":"opacity-0 scale-40","enter-to-class":"opacity-100 scale-100","leave-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-40"}},e._l(e.diaryMemories,(function(t){return n("MemoryComponent",{key:"diary-"+t.id,attrs:{memory:t,"can-add-memories":e.canAddMemories,"can-add-events":!1,"can-diarise":e.hasDiary,"can-toggle":t.id!==e.editMemory.id},on:{"add-event":e.addEvent,"remove-event":e.validatedRemoveEvent,"edit-memory":e.startEdit,"toggle-memory":e.toggleMemory,"diarise-memory":e.diariseMemory,"undiarise-memory":e.undiariseMemory}})})),1)],1):n("div",{staticClass:"py-2"},[e._v(" The diary is empty. ")])]):e._e(),n("SlideDownPanelComponent",{scopedSlots:e._u([{key:"closed-heading",fn:function(){return[e._v(" Forgotten Memories ")]},proxy:!0}])},[e.forgottenMemories.length>0?n("div",[n("transition-group",{attrs:{"enter-active-class":"transition-all duration-400 ease-out","leave-active-class":"transition-all duration-400 ease-in","enter-class":"opacity-0 scale-40","enter-to-class":"opacity-100 scale-100","leave-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-40"}},e._l(e.forgottenMemories,(function(t){return n("MemoryComponent",{key:"memory-"+t.id,attrs:{memory:t,"can-add-memories":e.canAddMemories,"can-add-events":!1,"can-diarise":!1,"can-toggle":t.id!==e.editMemory.id},on:{"add-event":e.addEvent,"remove-event":e.validatedRemoveEvent,"edit-memory":e.startEdit,"toggle-memory":e.toggleMemory,"diarise-memory":e.diariseMemory,"undiarise-memory":e.undiariseMemory}})})),1)],1):n("div",{staticClass:"py-2"},[e._v(" You have forgotten no memories... yet. ")])])],1)},at=[],st=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",[n("div",{staticClass:"flex border-b mb-2"},[n("HeadingComponent",{class:{"flex-1":!0,"line-through":e.memory.forgotten},attrs:{level:"6"}},[e._v(" "+e._s(e.memory.description)+" ")]),n("div",{staticClass:"flex-initial text-right"},[n("span",{staticClass:"cursor-pointer mx-2 hover:text-gray-400",on:{click:function(t){return e.$emit("edit-memory",e.memory)}}},[e._v(" Edit ")])])],1),n("ul",{staticClass:"my-3"},e._l(e.events(e.memory),(function(t){return n("li",{key:"event-"+t.id},[n("CardComponent",[n("div",{staticClass:"flex"},[n("span",{class:{"flex-1":!0,"line-through":e.memory.forgotten,"text-gray-400":e.memory.forgotten}},[e._v(e._s(t.description))]),n("div",{staticClass:"text-right flex-inital"},[n("RemoveCrossComponent",{on:{remove:function(n){return e.$emit("remove-event",t)}}})],1)])])],1)})),0),e.canAddEvents?n("FormToggleComponent",{attrs:{showControls:e.showControls},on:{save:e.add,toggle:e.toggleControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Add an Event? ")]},proxy:!0},{key:"form",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.description,expression:"newEvent.description"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newEvent.description},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newEvent,"description",t.target.value)}}})]},proxy:!0}],null,!1,667397553)}):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.canToggle&&(!e.memory.forgotten||e.memory.forgotten&&""!==e.memory.diary||e.canAddMemories),expression:"canToggle && ((!memory.forgotten || memory.forgotten && memory.diary !== '') || canAddMemories)"}],staticClass:"my-2 grid grid-rows gap-2"},[n("ButtonComponent",{staticClass:"w-full",on:{click:function(t){return e.$emit("toggle-memory",e.memory)}}},[e.memory.forgotten?n("span",[e._v(" Recover Memory ")]):""===e.memory.diary?n("span",[e._v(" Forget Memory ")]):n("span",[e._v(" Scratch Out Memory ")])]),e.canDiarise?[""!==e.memory.diary||e.isDiaryFull?""!==e.memory.diary&&e.canAddMemories?n("ButtonComponent",{staticClass:"w-full",on:{click:function(t){return e.$emit("undiarise-memory",e.memory)}}},[e._v(" Recover from Diary ")]):e._e():n("ButtonComponent",{staticClass:"w-full",on:{click:function(t){return e.$emit("diarise-memory",e.memory)}}},[e._v(" Send to Diary ")])]:e._e()],2)],1)}),ct=[],lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"cursor-pointer select-none mx-1 hover:text-gray-400",attrs:{title:"Remove item"},domProps:{innerHTML:e._s("&times;")},on:{click:function(t){return e.$emit("remove")}}})},dt=[],ut={name:"RemoveCrossComponent"},mt=ut,pt=Object(g["a"])(mt,lt,dt,!1,null,null,null),ht=pt.exports,gt="memory",vt="event",yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({description:"",forgotten:!1,diary:""},De(e,gt))},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({description:"",memory:""},De(e,vt))},wt={name:"MemoryComponent",props:{memory:{type:Object,required:!0,validator:function(e){return"string"===typeof e.diary&&"boolean"===typeof e.forgotten}},canAddMemories:{type:Boolean,required:!0},canAddEvents:{type:Boolean,required:!0},canDiarise:{type:Boolean,required:!0},canToggle:{type:Boolean,required:!0}},data:function(){return{showControls:!1,newEvent:ft({memory:this.memory.id})}},components:{ButtonComponent:_,CardComponent:y,FormToggleComponent:Pe,HeadingComponent:j,RemoveCrossComponent:ht},computed:Object(d["a"])(Object(d["a"])({},Object(ce["c"])("resources",["hasDiary","isDiaryFull"])),Object(ce["c"])("memories",["events"])),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("notifications",{hideNotification:"hide"})),Object(ce["b"])("notifications",["showNotification"])),{},{add:function(){if(""!==this.newEvent.description){var e=ft(this.newEvent);this.$emit("add-event",e),this.toggleControls()}else this.showNotification({message:"You must provide a description",type:"warning"})},toggleControls:function(){this.hideNotification(),this.showControls=!this.showControls,this.newEvent=ft({memory:this.memory.id})}})},Ct=wt,bt=Object(g["a"])(Ct,st,ct,!1,null,null,null),kt=bt.exports,xt={name:"MemoriesPane",data:function(){return{showAddingControls:!1,showEditingControls:!1,editMemory:yt(),editEvents:[],newMemory:yt()}},components:{CardComponent:y,FormComponent:Oe,FormToggleComponent:Pe,HeadingComponent:j,MemoryComponent:kt,SlideDownPanelComponent:F},computed:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["e"])("memories",["memories"])),Object(ce["c"])("memories",["canAddMemories","forgottenMemories","activeMemories","events","hasEvents"])),Object(ce["c"])("resources",{diary:"diary",hasDiary:"hasDiary",isDiaryFull:"isDiaryFull",diaryMemories:"memories"})),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("notifications",{hideNotification:"hide"})),Object(ce["b"])("notifications",["showNotification"])),Object(ce["d"])("memories",["addMemory","updateMemory","removeMemory","toggleMemory","addEvent","removeEvent","diarise","undiarise","updateEvent"])),{},{validatedAddMemory:function(){if(this.hideNotification,""!==this.newMemory.description){var e=yt(this.newMemory);this.addMemory(e),this.toggleAddingControls()}else this.showNotification({message:"You must provide a description.",type:"warning"})},validatedRemoveMemory:function(){var e=this;this.hasEvents(this.editMemory)&&this.events(this.editMemory).forEach((function(t){e.removeEvent(t)})),this.removeMemory(this.editMemory),this.closeEditingControls()},validatedRemoveEvent:function(e){e.memory!==this.editMemory.id?this.removeEvent(e):this.showNotification({message:"You cannot alter this memory whilst it is being edited.",type:"warning"})},validatedUpdateMemory:function(){var e=this;this.updateMemory(this.editMemory),this.hasEvents(this.editMemory)&&this.editEvents.forEach((function(t){return e.updateEvent(t)})),this.closeEditingControls()},diariseMemory:function(e){this.diarise({diary:this.diary,memory:e})},undiariseMemory:function(e){this.undiarise(e)},startEdit:function(e){var t=this;this.editMemory=yt(e),this.editEvents=this.events(this.editMemory).map((function(e){return ft(e)})),this.showEditingControls=!0,this.$nextTick((function(){var e=t.$refs.editForm.$el.getBoundingClientRect();window.scrollTo({top:e.y+window.scrollY,behavior:"smooth"})}))},toggleAddingControls:function(){this.newMemory=yt(),this.showAddingControls=!this.showAddingControls},closeEditingControls:function(){this.hideNotification(),this.showEditingControls=!1,this.editMemory=yt(),this.editEvents=[]}})},_t=xt,Ot=Object(g["a"])(_t,it,at,!1,null,null,null),Mt=Ot.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{"enter-active-class":"transition-all duration-400 ease-out","leave-active-class":"transition-all duration-400 ease-in","enter-class":"opacity-0 scale-40","enter-to-class":"opacity-100 scale-100","leave-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-40"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.classes},[n("div",{staticClass:"flex-1"},[e._v(" "+e._s(e.message)+" ")]),n("RemoveCrossComponent",{staticClass:"flex-initial",on:{remove:e.hide}})],1)])},Rt=[],jt={default:{"border-indigo-400":!0,"bg-indigo-100":!0,"text-indigo-600":!0},danger:{"border-red-600":!0,"bg-red-200":!0,"text-red-800":!0},warning:{"border-yellow-400":!0,"bg-yellow-100":!0,"text-yellow-600":!0}},Et=null,Pt={name:"NotificationPane",components:{RemoveCrossComponent:ht},computed:Object(d["a"])(Object(d["a"])({},Object(ce["e"])("notifications",["visible","message","type"])),{},{classes:function(){return Object(d["a"])({sticky:!0,"inset-6":!0,border:!0,rounded:!0,"p-2":!0,flex:!0},jt[this.type])}}),methods:Object(d["a"])({},Object(ce["d"])("notifications",["hide"])),watch:{visible:function(e){var t=this;clearTimeout(Et),e&&(Et=setTimeout((function(){t.hide()}),5e3))}}},St=Pt,Dt=Object(g["a"])(St,At,Rt,!1,null,null,null),Nt=Dt.exports,$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",{staticClass:"m-1 p-4 border-2 border-gray-100",attrs:{id:"resources"}},[n("HeadingComponent",{attrs:{level:"2"}},[e._v("Resources")]),n("FormToggleComponent",{staticClass:"my-2",attrs:{"show-controls":e.showAddingResourceControls},on:{save:e.validatedAddResource,toggle:e.toggleAddingResourceControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Add a new Resource? ")]},proxy:!0},{key:"form",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newResource.name,expression:"newResource.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newResource.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedAddResource.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newResource,"name",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newResource.lost,expression:"newResource.lost"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.newResource.lost)?e._i(e.newResource.lost,null)>-1:e.newResource.lost},on:{change:function(t){var n=e.newResource.lost,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newResource,"lost",n.concat([i])):a>-1&&e.$set(e.newResource,"lost",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newResource,"lost",o)}}}),e._v(" Lost? ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newResource.stationary,expression:"newResource.stationary"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.newResource.stationary)?e._i(e.newResource.stationary,null)>-1:e.newResource.stationary},on:{change:function(t){var n=e.newResource.stationary,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newResource,"stationary",n.concat([i])):a>-1&&e.$set(e.newResource,"stationary",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newResource,"stationary",o)}}}),e._v(" Stationary? ")])]},proxy:!0}])}),e.hasDiary?e._e():n("FormToggleComponent",{attrs:{"show-controls":e.showAddingDiaryControls},on:{save:e.validatedAddDiary,toggle:e.toggleAddingDiaryControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Add a Diary? ")]},proxy:!0},{key:"form",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newDiary.name,expression:"newDiary.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.newDiary.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addDiary.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newDiary,"name",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newDiary.lost,expression:"newDiary.lost"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.newDiary.lost)?e._i(e.newDiary.lost,null)>-1:e.newDiary.lost},on:{change:function(t){var n=e.newDiary.lost,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newDiary,"lost",n.concat([i])):a>-1&&e.$set(e.newDiary,"lost",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newDiary,"lost",o)}}}),e._v(" Lost? ")])]},proxy:!0}],null,!1,4200738096)}),n("FormComponent",{directives:[{name:"show",rawName:"v-show",value:e.showEditingResourceControls,expression:"showEditingResourceControls"}],staticClass:"my-2",attrs:{buttons:[{type:"default",event:"save",label:"Save"},{type:"default",event:"cancel",label:"Cancel"},{type:"default",event:"remove",label:"Remove"}]},on:{save:e.validatedUpdateResource,cancel:e.closeEditingResourceControls,remove:e.validatedRemoveResource}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editResource.name,expression:"editResource.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.editResource.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedAddResource.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.editResource,"name",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editResource.lost,expression:"editResource.lost"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.editResource.lost)?e._i(e.editResource.lost,null)>-1:e.editResource.lost},on:{change:function(t){var n=e.editResource.lost,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editResource,"lost",n.concat([i])):a>-1&&e.$set(e.editResource,"lost",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editResource,"lost",o)}}}),e._v(" Lost? ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editResource.stationary,expression:"editResource.stationary"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.editResource.stationary)?e._i(e.editResource.stationary,null)>-1:e.editResource.stationary},on:{change:function(t){var n=e.editResource.stationary,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editResource,"stationary",n.concat([i])):a>-1&&e.$set(e.editResource,"stationary",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editResource,"stationary",o)}}}),e._v(" Stationary? ")])]),n("FormComponent",{directives:[{name:"show",rawName:"v-show",value:e.showEditingDiaryControls,expression:"showEditingDiaryControls"}],staticClass:"my-2",attrs:{buttons:[{type:"default",event:"save",label:"Save"},{type:"default",event:"cancel",label:"Cancel"},{type:"default",event:"remove",label:"Remove"}]},on:{save:e.validatedUpdateDiary,cancel:e.closeEditingDiaryControls,remove:e.validatedRemoveDiary}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editDiary.name,expression:"editDiary.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.editDiary.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedAddResource.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.editDiary,"name",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editDiary.lost,expression:"editDiary.lost"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.editDiary.lost)?e._i(e.editDiary.lost,null)>-1:e.editDiary.lost},on:{change:function(t){var n=e.editDiary.lost,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editDiary,"lost",n.concat([i])):a>-1&&e.$set(e.editDiary,"lost",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editDiary,"lost",o)}}}),e._v(" Lost? ")])]),n("transition-group",{staticClass:"my-2 pb-2",attrs:{tag:"ul","enter-active-class":"transition-all duration-100 ease-out","leave-active-class":"transition-all duration-100 ease-in","enter-class":"opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-100","leave-to-class":"opacity-0","move-class":"transition-transform duration-500 ease-in-out"}},e._l(e.resources,(function(t){return n("li",{key:"resource-"+t.id,staticClass:"select-none"},[n("div",{staticClass:"grid grid-cols-6"},[n("span",{staticClass:"col-span-5"},[n("span",{staticClass:"cursor-pointer hover:text-gray-400",on:{click:function(n){return e.validatedToggleResource(t)}}},[n("span",{class:{"line-through":t.lost}},[e._v(e._s(t.name))]),t.stationary?n("span",[e._v(" (stationary)")]):e._e()])]),n("span",{staticClass:"cursor-pointer select-none flex-initial text-right mx-2 hover:text-gray-400",on:{click:function(n){return e.startEditResource(t)}}},[e._v(" Edit ")])])])})),0),n("transition-group",{directives:[{name:"show",rawName:"v-show",value:e.diaries.length>0,expression:"diaries.length > 0"}],staticClass:"my-2 border-t pt-2",attrs:{tag:"ul","enter-active-class":"transition-all duration-100 ease-out","leave-active-class":"transition-all duration-100 ease-in","enter-class":"opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-100","leave-to-class":"opacity-0","move-class":"transition-transform duration-500 ease-in-out"}},e._l(e.diaries,(function(t){return n("li",{key:"diary-"+t.id,staticClass:"select-none"},[n("div",{staticClass:"grid grid-cols-6"},[n("span",{staticClass:"col-span-5"},[n("span",{staticClass:"cursor-pointer hover:text-gray-400",on:{click:function(n){return e.validatedToggleDiary(t)}}},[n("span",{class:{"line-through":t.lost}},[e._v(e._s(t.name))]),n("span",{staticClass:"italic"},[e._v(" (diary - "+e._s(e.activeMemories.length)+" of 4 memories)")])])]),n("span",{staticClass:"cursor-pointer select-none flex-initial text-right mx-2 hover:text-gray-400",on:{click:function(n){return e.startEditDiary(t)}}},[e._v(" Edit ")])])])})),0)],1)},Tt=[],Ft="resource",Ut="diary",Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({name:"",lost:!1,stationary:!1},De(e,Ft))},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({name:"",lost:!1},De(e,Ut))},Bt={name:"ResourcesPane",data:function(){return{showAddingResourceControls:!1,showAddingDiaryControls:!1,showEditingResourceControls:!1,showEditingDiaryControls:!1,newResource:Ht(),newDiary:Lt(),editResource:Ht(),editDiary:Lt()}},components:{CardComponent:y,FormComponent:Oe,FormToggleComponent:Pe,HeadingComponent:j},computed:Object(d["a"])({},Object(ce["c"])("resources",["hasDiary","diaries","resources","diary","activeMemories"])),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("notifications",{hideNotification:"hide"})),Object(ce["b"])("notifications",["showNotification"])),Object(ce["d"])("resources",["addResource","updateResource","removeResource","toggleResource","addDiary","updateDiary","removeDiary","toggleDiary"])),{},{validatedAddResource:function(){""!==this.newResource.name?(this.addResource(this.newResource),this.toggleAddingResourceControls()):this.showNotification({message:"You must provide a description.",type:"warning"})},validatedToggleResource:function(e){this.hideNotification(),this.editResource.id!==e.id?this.toggleResource(e):this.showNotification({message:"You cannot change this resource whilst it is being edited.",type:"warning"})},validatedToggleDiary:function(e){if(this.hideNotification(),this.editDiary.id!==e.id){if(this.hasDiary){if(e.lost)return void this.showNotification({message:"You may only have one active diary.",type:"warning"});if(this.memories.length>0)return void this.showNotification({message:"Please cross out existing memories before losing the diary.",type:"warning"})}this.toggleDiary(e)}else this.showNotification({message:"You cannot change this resource whilst it is being edited.",type:"warning"})},validatedAddDiary:function(){""!==this.newDiary.name?this.hasDiary?this.showNotification({message:"You may only have one active diary.",type:"warning"}):(this.addDiary(this.newDiary),this.toggleAddingDiaryControls()):this.showNotification({message:"You must provide a description.",type:"warning"})},validatedUpdateResource:function(){""!==this.editResource.name?(this.updateResource(this.editResource),this.closeEditingResourceControls()):this.showNotification({message:"You must provide a description.",type:"warning"})},validatedUpdateDiary:function(){""!==this.editDiary.name?this.diary&&this.editDiary.id!==this.diary.id&&!1===this.editDiary.lost?this.showNotification({message:"You may only have one active diary.",type:"warning"}):(this.updateDiary(this.editDiary),this.closeEditingDiaryControls()):this.showNotification({message:"You must provide a description.",type:"warning"})},validatedRemoveResource:function(){var e,t=this;this.resources.some((function(n){if(n.id===t.editResource.id)return e=n,!0})),this.removeResource(e),this.closeEditingResourceControls()},validatedRemoveDiary:function(){var e,t=this;this.diaries.some((function(n){if(n.id===t.editDiary.id)return e=n,!0})),this.removeDiary(e),this.closeEditingDiaryControls()},startEditResource:function(e){this.editResource=Ht(e),this.showEditingResourceControls=!0},startEditDiary:function(e){this.editDiary=Lt(e),this.showEditingDiaryControls=!0},toggleAddingResourceControls:function(){this.hideNotification(),this.showAddingResourceControls=!this.showAddingResourceControls,this.newResource=Ht()},toggleAddingDiaryControls:function(){this.hideNotification(),this.showAddingDiaryControls=!this.showAddingDiaryControls,this.newDiary=Lt()},closeEditingResourceControls:function(){this.hideNotification(),this.showEditingResourceControls=!1,this.editResource=Ht()},closeEditingDiaryControls:function(){this.hideNotification(),this.showEditingDiaryControls=!1,this.editDiary=Lt()}})},Yt=Bt,It=n("8f70"),qt=n.n(It),Jt=Object(g["a"])(Yt,$t,Tt,!1,null,null,null);"function"===typeof qt.a&&qt()(Jt);var zt=Jt.exports,Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CardComponent",{attrs:{id:"skills"}},[n("HeadingComponent",{attrs:{level:"2"}},[e._v("Skills")]),n("FormToggleComponent",{attrs:{"show-controls":e.showAddingControls},on:{save:e.validatedAddSkill,toggle:e.toggleAddingControls},scopedSlots:e._u([{key:"button",fn:function(){return[e._v(" Add a new Skill? ")]},proxy:!0},{key:"form",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSkill.name,expression:"newSkill.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newSkill.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedAddSkill.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newSkill,"name",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSkill.checked,expression:"newSkill.checked"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.newSkill.checked)?e._i(e.newSkill.checked,null)>-1:e.newSkill.checked},on:{change:function(t){var n=e.newSkill.checked,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.newSkill,"checked",n.concat([i])):a>-1&&e.$set(e.newSkill,"checked",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newSkill,"checked",o)}}}),e._v(" Checked? ")])]},proxy:!0}])}),n("FormComponent",{directives:[{name:"show",rawName:"v-show",value:e.showEditingControls,expression:"showEditingControls"}],staticClass:"my-2",attrs:{buttons:[{type:"default",event:"save",label:"Save"},{type:"default",event:"cancel",label:"Cancel"},{type:"default",event:"remove",label:"Remove"}]},on:{save:e.validatedUpdateSkill,cancel:e.closeEditingControls,remove:e.validatedRemoveSkill}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editSkill.name,expression:"editSkill.name"}],staticClass:"shadow appearance-none border rounded w-full py-1 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.editSkill.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validatedUpdateSkill.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.editSkill,"name",t.target.value)}}}),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editSkill.checked,expression:"editSkill.checked"}],staticClass:"shadow border rounded py-2 px-2 m-1 text-gray-700 leading-tight focus:outline-none focus:ring-2 ring-gray-200",attrs:{type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.editSkill.checked)?e._i(e.editSkill.checked,null)>-1:e.editSkill.checked},on:{change:function(t){var n=e.editSkill.checked,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=e._i(n,i);r.checked?a<0&&e.$set(e.editSkill,"checked",n.concat([i])):a>-1&&e.$set(e.editSkill,"checked",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.editSkill,"checked",o)}}}),e._v(" Checked? ")])]),n("transition-group",{staticClass:"my-2",attrs:{tag:"ul","enter-active-class":"transition-all duration-100 ease-out","leave-active-class":"transition-all duration-100 ease-in","enter-class":"opacity-0","enter-to-class":"opacity-100","leave-class":"opacity-100","leave-to-class":"opacity-0","move-class":"transition-transform duration-500 ease-in-out"}},e._l(e.skills,(function(t){return n("li",{key:"skill-"+t.id,staticClass:"select-none"},[n("div",{staticClass:"grid grid-cols-6"},[n("span",{staticClass:"col-span-5"},[n("span",{staticClass:"cursor-pointer hover:text-gray-400",on:{click:function(n){return e.validatedToggleSkill(t)}}},[n("span",[e._v(e._s(t.name))]),t.checked?n("span",[e._v(" (x) ")]):e._e()])]),n("span",{staticClass:"cursor-pointer select-none flex-initial text-right mx-2 hover:text-gray-400",on:{click:function(n){return e.startEdit(t)}}},[e._v(" Edit ")])])])})),0)],1)},Qt=[],Vt="skill",Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d["a"])({name:"",checked:!1},De(e,Vt))},Wt={name:"SkillsPane",data:function(){return{showAddingControls:!1,showEditingControls:!1,newSkill:Kt(),editSkill:Kt()}},components:{CardComponent:y,FormComponent:Oe,FormToggleComponent:Pe,HeadingComponent:j},computed:Object(d["a"])({},Object(ce["c"])("skills",["skills"])),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(ce["d"])("notifications",{hideNotification:"hide"})),Object(ce["b"])("notifications",["showNotification"])),Object(ce["d"])("skills",["add","remove","toggle","update"])),{},{validatedAddSkill:function(){""!==this.newSkill.name?(this.add(this.newSkill),this.toggleAddingControls()):this.showNotification({message:"You must provide a description.",type:"warning"})},startEdit:function(e){this.editSkill=Kt(e),this.showEditingControls=!0},validatedToggleSkill:function(e){this.hideNotification(),this.editSkill.id!==e.id?this.toggle(e):this.showNotification({message:"You cannot change this skill whilst it is being edited.",type:"warning"})},validatedUpdateSkill:function(){""!==this.editSkill.name?(this.update(this.editSkill),this.closeEditingControls()):this.showNotification({message:"You must provide a description",type:"warning"})},validatedRemoveSkill:function(){var e,t=this;this.skills.some((function(n){if(n.id===t.editSkill.id)return e=n,!0})),this.remove(e),this.closeEditingControls()},toggleAddingControls:function(){this.hideNotification(),this.showAddingControls=!this.showAddingControls,this.newSkill=Kt()},closeEditingControls:function(){this.hideNotification(),this.showEditingControls=!1,this.editSkill=Kt()}})},Xt=Wt,Zt=Object(g["a"])(Xt,Gt,Qt,!1,null,null,null),en=Zt.exports,tn={name:"App",components:{ActionsPane:ve,PromptsPane:Ke,MarksPane:ot,SkillsPane:en,ResourcesPane:zt,CharactersPane:Ye,HeadingComponent:j,MemoriesPane:Mt,NotificationPane:Nt,SlideDownPanelComponent:F},computed:{copyright:function(){var e=Math.max(2021,(new Date).getUTCFullYear());return"Copyright &copy; ".concat(e," Robin Malburn")}}},nn=tn,rn=Object(g["a"])(nn,a,s,!1,null,null,null),on=rn.exports,an=(n("ba8c"),n("99af"),function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}),sn=Object(d["a"])({},Q("actions")),cn={die:function(e){return e.d10-e.d6},currentRoll:function(e,t){return isNaN(t.die)?"?":"".concat(t.die," (+").concat(e.d10,", -").concat(e.d6,")")},prompts:function(e){var t=Object(U["a"])(e.prompts);return t.sort((function(e,t){return e.page>t.page?-1:1})),t},currentPrompt:function(e){var t;return null!==(t=e.prompts[e.currentPromptIdx])&&void 0!==t?t:{}}},ln={rollD6:function(e){return e.d6=an(1,6)},setD6:function(e,t){return e.d6=t},setD10:function(e,t){return e.d10=t},rollD10:function(e){return e.d10=an(1,10)},saveRoll:function(e,t){return e.lastRoll=t},makePrompt:function(e,t){return e.prompts.push(ze({page:t,count:0}))},addPrompt:function(e,t){return e.prompts.push(ze(t))},setPrompts:function(e,t){return e.prompts=t},removePrompt:function(e,t){var n=Te(e.prompts,t.id);e.prompts.splice(n.idx,1)},incrementPrompt:function(e,t){var n=Te(e.prompts,t.id);i["a"].set(n.entity,"count",n.entity.count+1)},decrementPrompt:function(e,t){var n=Te(e.prompts,t.id);i["a"].set(n.entity,"count",n.entity.count-1)},setCurrentPromptIdx:function(e,t){return e.currentPromptIdx=t}},dn={roll:function(e){var t,n=e.commit,r=e.getters,o=e.state;n("saveRoll",r.currentRoll),n("rollD6"),n("rollD10");var i=null!==(t=r.currentPrompt&&r.currentPrompt.page)&&void 0!==t?t:0;i+=r.die,i<=0&&(i=1);var a=o.currentPromptIdx,s=o.prompts.some((function(e,t){if(e.page===i)return a=t,3===e.count&&(a+=1,i+=1),!0}));s||(a=o.prompts.length);var c=o.prompts[a];c||(c=ze({page:i}),n("addPrompt",c)),n("incrementPrompt",c),n("setCurrentPromptIdx",a)},makePromptCurrent:function(e,t){var n=e.commit,r=e.state,o=Te(r.prompts,t.id);n("setCurrentPromptIdx",o.idx)},removePrompt:function(e,t){var n=e.commit,r=e.getters,o=e.state,i=r.currentPrompt;n("removePrompt",t);var a=Te(o.prompts,i.id);n("setCurrentPromptIdx",a.idx)}},un={namespaced:!0,state:sn,getters:cn,mutations:ln,actions:dn},mn=Object(d["a"])({},Q("characters")),pn={characters:function(e){return Object(U["a"])(e.characters).sort((function(e,t){return e.dead&&!t.dead?1:!e.dead&&t.dead?-1:e.name.localeCompare(t.name)}))}},hn={add:function(e,t){return e.characters.push(Ue(t))},update:function(e,t){var n=Te(e.characters,t.id);i["a"].set(e.characters,n.idx,Ue(t))},set:function(e,t){return e.characters=t},remove:function(e,t){var n=Te(e.characters,t.id);e.characters.splice(n.idx,1)},toggle:function(e,t){var n=Te(e.characters,t.id);i["a"].set(n.entity,"dead",!n.entity.dead)}},gn={namespaced:!0,state:mn,getters:pn,mutations:hn},vn=Object(d["a"])({},Q("marks")),yn={add:function(e,t){return e.marks.push(et(t))},update:function(e,t){var n=Te(e.marks,t.id);i["a"].set(e.marks,n.idx,et(t))},set:function(e,t){return e.marks=t},remove:function(e,t){var n=Te(e.marks,t.id);e.marks.splice(n.idx,1)}},fn={namespaced:!0,state:vn,mutations:yn},wn=(n("4de4"),Object(d["a"])({},Q("memories"))),Cn={active:function(e){return e.memories.reduce((function(e,t){return!1===t.forgotten&&""===t.diary?e+1:e}),0)},canAddMemories:function(e,t){return t.active<5},forgottenMemories:function(e){return e.memories.filter((function(e){return e.forgotten&&""===e.diary}))},activeMemories:function(e){return e.memories.filter((function(e){return!e.forgotten&&""===e.diary}))},events:function(e){return function(t){return e.events.filter((function(e){return e.memory===t.id}))}},hasEvents:function(e){return function(t){return e.events.some((function(e){return e.memory===t.id}))}}},bn={addMemory:function(e,t){return e.memories.push(yt(t))},setMemories:function(e,t){return e.memories=t},updateMemory:function(e,t){var n=Te(e.memories,t.id);i["a"].set(e.memories,n.idx,yt(t))},removeMemory:function(e,t){var n=Te(e.memories,t.id);e.memories.splice(n.idx,1)},toggleMemory:function(e,t){var n=Te(e.memories,t.id);i["a"].set(n.entity,"forgotten",!n.entity.forgotten)},addEvent:function(e,t){return e.events.push(ft(t))},setEvents:function(e,t){return e.events=t},updateEvent:function(e,t){var n=Te(e.events,t.id);i["a"].set(e.events,n.idx,ft(t))},removeEvent:function(e,t){var n=Te(e.events,t.id);e.events.splice(n.idx,1)},diarise:function(e,t){var n=t.memory,r=t.diary,o=Te(e.memories,n.id);i["a"].set(o.entity,"diary",r.id)},undiarise:function(e,t){var n=Te(e.memories,t.id);i["a"].set(n.entity,"diary","")}},kn={namespaced:!0,state:wn,getters:Cn,mutations:bn},xn={message:"",visible:!1,type:"default"},_n={toggle:function(e){return e.visible=!e.visible},hide:function(e){return e.visible=!1},show:function(e){return e.visible=!0},setMessage:function(e,t){return e.message=t},setType:function(e,t){return e.type=t}},On={showNotification:function(e,t){var n=e.commit,r=t.message,o=t.type;n("hide"),n("setMessage",r),n("setType",o),n("show")}},Mn={namespaced:!0,state:xn,mutations:_n,actions:On},An=Object(d["a"])({},Q("resources")),Rn={resources:function(e){return Object(U["a"])(e.resources).sort((function(e,t){return e.lost&&!t.lost?1:!e.lost&&t.lost?-1:e.name.localeCompare(t.name)}))},diaries:function(e){return Object(U["a"])(e.diaries).sort((function(e,t){return e.lost&&!t.lost?1:!e.lost&&t.lost?-1:e.name.localeCompare(t.name)}))},diary:function(e){return e.diaries.filter((function(e){return!e.lost}))[0]||null},lostDiaries:function(e){return e.diaries.filter((function(e){return e.lost}))},hasDiary:function(e,t){return null!==t.diary},memories:function(e,t,n){return n.memories.memories.filter((function(e){return e.diary===t.diary.id}))},activeMemories:function(e,t){return t.memories.filter((function(e){return!e.forgotten}))},forgottenMemories:function(e,t){return t.memories.filter((function(e){return e.forgotten}))},isDiaryFull:function(e,t){var n=0;return t.memories.some((function(e){return e.lost||(n+=1),n>=4}))}},jn={addResource:function(e,t){return e.resources.push(Ht(t))},setResources:function(e,t){return e.resources=t},updateResource:function(e,t){var n=Te(e.resources,t.id);i["a"].set(e.resources,n.idx,Ht(t))},removeResource:function(e,t){var n=Te(e.resources,t.id);e.resources.splice(n.idx,1)},toggleResource:function(e,t){var n=Te(e.resources,t.id);i["a"].set(n.entity,"lost",!n.entity.lost)},addDiary:function(e,t){return e.diaries.push(Lt(t))},updateDiary:function(e,t){var n=Te(e.diaries,t.id);i["a"].set(e.diaries,n.idx,Lt(t))},setDiaries:function(e,t){return e.diaries=t},removeDiary:function(e,t){var n=Te(e.diaries,t.id);e.diaries.splice(n.idx,1)},toggleDiary:function(e,t){var n=Te(e.diaries,t.id);i["a"].set(n.entity,"lost",!n.entity.lost)}},En={namespaced:!0,state:An,getters:Rn,mutations:jn},Pn=Object(d["a"])({},Q("skills")),Sn={skills:function(e){return Object(U["a"])(e.skills).sort((function(e,t){return e.checked&&t.checked||!e.checked&&!t.checked?e.name.localeCompare(t.name):e.checked&&!t.checked?1:-1}))}},Dn={add:function(e,t){return e.skills.push(Kt(t))},set:function(e,t){return e.skills=t},update:function(e,t){var n=Te(e.skills,t.id);i["a"].set(e.skills,n.idx,Kt(t))},remove:function(e,t){var n=Te(e.skills,t.id);e.skills.splice(n.idx,1)},toggle:function(e,t){var n=Te(e.skills,t.id);i["a"].set(n.entity,"checked",!n.entity.checked)}},Nn={namespaced:!0,state:Pn,mutations:Dn,getters:Sn};i["a"].use(ce["a"]);var $n=new ce["a"].Store({state:{},mutations:{},actions:{},modules:{actions:un,characters:gn,marks:fn,memories:kn,notifications:Mn,resources:En,skills:Nn}});i["a"].config.productionTip=!1,new i["a"]({store:$n,render:function(e){return e(on)}}).$mount("#app")},"8f70":function(e,t){},ba8c:function(e,t,n){}});
//# sourceMappingURL=app.a1cf4032.js.map